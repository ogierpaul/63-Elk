# Project Queries
## Objective
- Store all the queries needed to run the project
- Creation of schemas in database
- Populating database
- Launching the queries
- Labelling the data
- Predicting the results

## Directory structure
- Different folders, per order of use in project
- From *A_Create_Databases_Structure*
- To *F_Fit_Predict*

### A_Create_Databases_Structure
Contains:
- Set-up the schemas, tables, views in Postgres with SQL scripts
- Set-up the mapping in ElasticSearch via a JSON mapping file
- Set-up the transfer of data from Postgres to ElasticSearch with a Logstag configuraiton file

### B_Copy_Target_Data
- SQL queries to COPY the target (reference) data to PostgreSQL
- The target data is then indexed in ElasticSearch via Logstash

### C_Query_ElasticSearch
- Creates the body of the query to ElasticSearch (in JSON)
- Python Script to get the query results form ElasticSearch
- Copy the results to Postgres and Parse the JSON file

### D_Additional_scores
- Calculate additional scores based on the pairs generated by the previous step
- String-distance like trigrans similarity, metaphone, levenshtein, geo-distance

### E_Label_Pairs
- Create a sample of representative pairs based on the score matrix
- Ask both naive (unsupervised) questions & hard (supervised) questions
- Generate the *y_true*  vector used for machine learning

### F_Fit_Predict
- Find the best algorithm with the best features
- Fit the Machine Learning Algorithm, Predict the probabilty of the pair being a match